{
  "default": [
    {
      "id": "pn-01",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What is the main difference between a 'Local' and a 'Remote' (Push) notification?",
      "options": [
        "Local is for Android, Remote is for iOS",
        "Local is triggered by the app itself on the device; Remote is sent from a server",
        "Remote notifications don't require user permission",
        "Local notifications only work when the app is open"
      ],
      "correct": [1],
      "explanation": "Local notifications are scheduled by the app (e.g., an alarm clock). Remote notifications are sent via a cloud service like FCM or APNs to reach the user even if the app isn't running.",
      "interviewTip": "Mention that 'Push' specifically refers to the server-to-device flow."
    },
    {
      "id": "pn-02",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "Which service does Google provide to handle cross-platform push notifications?",
      "options": [
        "Google Push Service (GPS)",
        "Firebase Cloud Messaging (FCM)",
        "Android Message Cloud",
        "Google Cloud Notifications"
      ],
      "correct": [1],
      "explanation": "FCM is the standard for Android and can also act as a wrapper to send notifications to iOS devices via APNs.",
      "interviewTip": "FCM is free and is the most common choice for React Native developers."
    },
    {
      "id": "pn-03",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What is a 'Device Token' (or Push Token)?",
      "options": [
        "The user's password",
        "A unique identifier generated by the OS to target a specific app instance on a specific device",
        "The phone's serial number",
        "A code to unlock the app"
      ],
      "correct": [1],
      "explanation": "To send a notification, your server needs this token. It changes if the app is reinstalled or the user clears data.",
      "interviewTip": "Always send the token to your backend database as soon as it is generated or updated."
    },
    {
      "id": "pn-04",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "Which library is most commonly used for handling Firebase in React Native CLI?",
      "options": [
        "react-native-firebase",
        "expo-notifications",
        "firebase-js-sdk",
        "react-push-handler"
      ],
      "correct": [0],
      "explanation": "React Native Firebase is the official-like community library that provides native wrappers for all Firebase services, including Messaging.",
      "interviewTip": "The standard 'firebase' web SDK does not work for push notifications in RN; you must use the native wrapper."
    },
    {
      "id": "pn-05",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "On iOS, what is the 'p8' file (or 'p12' certificate) used for?",
      "options": [
        "Styling the notification",
        "Authenticating your server with Apple's Push Notification service (APNs)",
        "Storing the user's name",
        "Connecting to Firebase"
      ],
      "correct": [1],
      "explanation": "Apple requires a secure handshake between your server (or Firebase) and their notification servers. The p8 Auth Key is the modern standard for this.",
      "interviewTip": "P8 keys are preferred over P12 because they don't expire every year."
    },
    {
      "id": "pn-06",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What are 'Notification Channels' on Android?",
      "options": [
        "Chat rooms in the app",
        "A required category (since Android 8.0) that allows users to customize behavior for different types of alerts",
        "Radio frequencies for data transfer",
        "A list of blocked users"
      ],
      "correct": [1],
      "explanation": "Channels allow users to turn off 'Marketing' notifications while keeping 'Order Updates' turned on.",
      "interviewTip": "If you don't define a channel on modern Android, your notification might not show up at all."
    },
    {
      "id": "pn-07",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "How do you handle a notification that arrives while the app is in the 'Foreground'?",
      "options": [
        "The system shows a banner automatically",
        "You must listen for the event and choose whether to show a local alert or update the UI",
        "The app crashes",
        "Foreground notifications are blocked by the OS"
      ],
      "correct": [1],
      "explanation": "By default, the OS often doesn't show a banner if the app is already open. You use listeners like `onMessage` (FCM) to handle the data.",
      "interviewTip": "You can use libraries like 'Notifee' to force-show a banner even in the foreground."
    },
    {
      "id": "pn-08",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What is a 'Data-only' (Silent) notification?",
      "options": [
        "A notification with no sound",
        "A payload with no 'notification' object that triggers background code without alerting the user",
        "A notification for deaf users",
        "An SMS message"
      ],
      "correct": [1],
      "explanation": "Silent notifications are used to tell the app to 'wake up' and fetch new content in the background so it's ready when the user opens it.",
      "interviewTip": "Be careful: iOS and Android can throttle silent notifications if they are sent too frequently."
    },
    {
      "id": "pn-09",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "How do you know if a user opened the app by tapping on a notification?",
      "options": [
        "Check the 'getInitialNotification' method or use an event listener",
        "Check the AsyncStorage",
        "It is impossible to know",
        "The app restarts from the beginning"
      ],
      "correct": [0],
      "explanation": "React Native Firebase and Expo provide methods to retrieve the 'initial' notification that launched the app from a killed state.",
      "interviewTip": "Use this to deep-link the user to a specific screen (like a chat room) immediately."
    },
    {
      "id": "pn-10",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What is 'Notifee'?",
      "options": [
        "A fee for sending notifications",
        "A powerful library for advanced local notifications (rich styles, buttons, progress bars)",
        "A replacement for Firebase",
        "A debugging tool"
      ],
      "correct": [1],
      "explanation": "Notifee is the go-to library for creating 'Rich' notifications, such as those with 'Reply' buttons or custom layouts on Android.",
      "interviewTip": "While FCM handles the delivery, Notifee handles the 'display' and 'interaction' logic on the device."
    },
    {
      "id": "pn-11",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What are 'Background Tasks' (or Headless JS) in notifications?",
      "options": [
        "JS code that runs when the phone is charging",
        "A way to run JavaScript code in the background when a notification is received, even if the app is killed",
        "Tasks that run on the server",
        "A way to hide the app from the user"
      ],
      "correct": [1],
      "explanation": "On Android, this uses 'Headless JS' to spin up a tiny JS environment to process data without opening the UI.",
      "interviewTip": "On iOS, this is handled via 'Background Fetch' or 'Remote Notifications' capabilities."
    },
    {
      "id": "pn-12",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "Which permission is required for notifications on iOS?",
      "options": [
        "CAMERA",
        "NOTIFICATIONS (User Permission)",
        "LOCATION",
        "INTERNET"
      ],
      "correct": [1],
      "explanation": "iOS requires you to call `requestPermission()` and wait for the user to tap 'Allow' before you can show any alerts.",
      "interviewTip": "On Android 13+, a similar runtime permission is now also required."
    },
    {
      "id": "pn-13",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What is a 'Topic' in FCM?",
      "options": [
        "A subject line of the email",
        "A mechanism to send a single message to multiple devices that have 'subscribed' to that specific keyword",
        "A way to organize code",
        "A security setting"
      ],
      "correct": [1],
      "explanation": "Topics are perfect for things like 'Weather Updates' or 'Sports Scores' where you don't need to track individual device tokens.",
      "interviewTip": "Topics allow you to broadcast to millions of users with one API call."
    },
    {
      "id": "pn-14",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What is the 'Badge' count?",
      "options": [
        "The number of users in the app",
        "The small number displayed on the app icon on the home screen",
        "The level of the user",
        "A type of achievement"
      ],
      "correct": [1],
      "explanation": "Badges indicate unread items. You can set them via the notification payload or a local library.",
      "interviewTip": "Remember to clear the badge count when the user opens the app or reads the messages."
    },
    {
      "id": "pn-15",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What happens if a user denies the notification permission?",
      "options": [
        "The app cannot be installed",
        "You can still send silent notifications but no banners will show",
        "The app crashes",
        "The phone vibrates constantly"
      ],
      "correct": [1],
      "explanation": "The app will still function, and you can still receive data in the background (usually), but the OS will block the visual UI alerts.",
      "interviewTip": "It's good practice to show a custom UI explaining *why* you need notifications before the system prompt appears."
    },
    {
      "id": "pn-16",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "What is 'Interactive Notifications'?",
      "options": [
        "Notifications that play games",
        "Notifications with buttons (actions) that allow users to respond without opening the app",
        "A notification that talks to the user",
        "A video notification"
      ],
      "correct": [1],
      "explanation": "Actions like 'Accept' or 'Decline' on an invite are handled through 'Notification Categories' (iOS) or 'Channels' (Android).",
      "interviewTip": "This is a great way to improve app engagement and 'speed of action' for users."
    },
    {
      "id": "pn-17",
      "stageId": "push_notifications",
      "type": "single",
      "prompt": "In the FCM payload, what is the difference between 'notification' and 'data'?",
      "options": [
        "There is no difference",
        "'notification' is for the OS to show a banner; 'data' is for the app to process custom logic",
        "'data' is only for Android",
        "'notification' is always silent"
      ],
      "correct": [1],
      "explanation": "If the payload contains a 'notification' key, the OS handles the display. If it only contains 'data', the app handles it in the background.",
      "interviewTip": "For the most control, many developers send only 'data' and display a local notification themselves using Notifee."
    }
  ]
}
