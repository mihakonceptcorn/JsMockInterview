{
  "tr-01": {
    "prompt": "En la Composition API, ¿cómo vinculas una variable 'ref' a un elemento DOM específico en tu template?",
    "explanation": "Para crear un template ref, declaras un ref con el mismo nombre en tu script y aplicas el atributo 'ref' al elemento en el template.",
    "interviewTip": "El nombre de la variable en tu script debe coincidir exactamente con el valor string del atributo ref en tu template.",
    "options": ["v-ref", "ref", ":id", "bind-ref"]
  },
  "tr-02": {
    "prompt": "Analiza el código. ¿Por qué 'inputRef.value' será null cuando se ejecute el console.log?",
    "explanation": "Los template refs solo se populan después de que el componente está montado. Cualquier intento de acceder a ellos en el cuerpo inmediato del script setup resultará en null.",
    "interviewTip": "Para acceder a un ref de forma segura, siempre usa el hook de ciclo de vida 'onMounted'.",
    "options": [
      "Porque el nombre de la variable es incorrecto.",
      "Porque el script setup se ejecuta antes de que el componente sea montado y el DOM sea creado.",
      "Porque las variables 'ref' son privadas.",
      "Porque debes usar reactive() para elementos DOM."
    ]
  },
  "tr-03": {
    "prompt": "¿Cómo puedes enfocar un input automáticamente cuando un componente se monta?",
    "explanation": "Una vez montado, el 'value' del ref contiene el HTMLInputElement real, dándote acceso a métodos nativos como .focus().",
    "interviewTip": "Menciona que esta es la 'forma Vue' en lugar de usar querySelector, que rompe la encapsulación del componente.",
    "options": [
      "inputRef",
      "document.querySelector('input')",
      "this.$refs.input",
      "inputRef.current"
    ]
  },
  "tr-04": {
    "prompt": "Al usar 'v-for', ¿qué contendrá un template ref si se aplica al elemento repetido?",
    "explanation": "Vue 3 automáticamente popula el ref con un array de elementos cuando se usa dentro de un bucle v-for.",
    "interviewTip": "Ten en cuenta que el orden del array no está garantizado que coincida con el orden de tu fuente de datos si los elementos se reordenan.",
    "options": [
      "Solo el primer elemento de la lista.",
      "Solo el último elemento de la lista.",
      "Un array que contiene todos los elementos DOM en la lista.",
      "Lanzará un error; no puedes usar refs en v-for."
    ]
  },
  "tr-05": {
    "prompt": "Analiza el código. Por defecto, ¿puede un padre acceder al 'internalCount' de este componente hijo mediante un template ref?",
    "explanation": "Los componentes que usan <script setup> no exponen su estado interno al padre mediante refs a menos que los listes explícitamente en defineExpose().",
    "interviewTip": "Esta es una característica clave de seguridad/encapsulación de Vue 3 comparada con la Options API.",
    "options": [
      "Sí, todas las variables de setup son públicas.",
      "No, los componentes que usan <script setup> están 'cerrados' por defecto y necesitan 'defineExpose' para revelar propiedades.",
      "Sí, pero solo si el padre usa $children.",
      "Solo si el hijo no está con scope."
    ]
  },
  "tr-06": {
    "prompt": "¿Qué debes hacer con un template ref en 'onUnmounted'?",
    "explanation": "El sistema de reactividad de Vue maneja el ciclo de vida del ref. Cuando el elemento se desmonta, el ref.value se establece automáticamente de vuelta a null.",
    "interviewTip": "Sin embargo, *debes* usar onUnmounted para destruir cualquier instancia de terceros (como un mapa o gráfico) que fue adjuntada a ese ref.",
    "options": [
      "Establecerlo manualmente a null.",
      "Nada; Vue limpia automáticamente el ref cuando el elemento es destruido.",
      "Eliminar el elemento del DOM.",
      "Llamar .destroy() en el ref."
    ]
  },
  "tr-07": {
    "prompt": "¿Cómo usas un 'Function Ref' en Vue 3?",
    "explanation": "Si pasas una función a :ref, Vue la llamará con el elemento cuando esté montado y con null cuando esté desmontado. Esto es útil para lógica compleja como refs dinámicos en un bucle.",
    "interviewTip": "Esta es la forma más flexible de manejar refs si un simple nombre de variable no es suficiente.",
    "options": [
      "Pasando una función al atributo :ref: :ref=\"(el) => { ... }\".",
      "Usando ref=\"myFunc()\".",
      "Definiendo un ref que devuelve una función.",
      "Los function refs no están soportados en Vue 3."
    ]
  },
  "tr-08": {
    "prompt": "¿En qué escenarios es apropiado usar Template Refs?",
    "explanation": "Los template refs son para tareas imperativas del DOM. Nunca debes usar un ref para eludir la reactividad de Vue para cosas que pueden manejarse con props/state.",
    "interviewTip": "Siempre prefiere el enfoque declarativo (v-bind, v-if) a menos que no tengas otra opción.",
    "options": [
      "Gestionar enfoque, selección de texto, o reproducción de medios.",
      "Integrar bibliotecas DOM de terceros (por ejemplo, D3, Google Maps).",
      "Cambiar el estado del componente (por ejemplo, incrementar un contador).",
      "Activar animaciones imperativas no manejadas por Vue Transitions."
    ]
  },
  "tr-09": {
    "prompt": "¿Cómo creas un template ref en la Composition API?",
    "explanation": "En la Composition API, creas un ref con el mismo nombre que el atributo template ref. Vue automáticamente asigna el elemento DOM a él después del montaje.",
    "interviewTip": "El ref debe ser retornado desde setup() o usado en <script setup> para ser accesible en el template.",
    "options": ["createRef", "ref", "useRef", "templateRef"]
  },
  "tr-10": {
    "prompt": "¿Cuándo se popula un template ref con el elemento DOM real?",
    "explanation": "Los template refs son null durante setup() y solo se asignan después de que el componente está montado en el DOM.",
    "interviewTip": "Siempre verifica que el ref no sea null antes de usarlo, o accede a él dentro de onMounted.",
    "options": [
      "Inmediatamente cuando el componente es creado.",
      "Después de que el componente está montado (ciclo de vida onMounted).",
      "Antes de que el componente sea montado.",
      "Solo cuando llamas a un método especial."
    ]
  }
}
